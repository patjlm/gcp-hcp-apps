applications:
  cert-manager:
    project: default
    namespace: argocd
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    syncPolicy:
      automated:
        prune: false
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
      - ServerSideApply=true
    destination:
      name: '{{ .Values.cluster.name }}'
      namespace: cert-manager
    source:
      repoURL: https://charts.jetstack.io
      targetRevision: v1.18.2
      chart: cert-manager
      helm:
        valuesObject:
          crds:
            enabled: true
          prometheus:
            enabled: true
          webhook:
            securePort: 10260
          cainjector:
            enabled: true
  hypershift:
    project: default
    namespace: argocd
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    syncPolicy:
      automated:
        prune: false
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
      - ServerSideApply=true
    destination:
      name: '{{ .Values.cluster.name }}'
      namespace: hypershift
    source:
      repoURL: '{{ .Values.cluster.repoURL | default "https://github.com/patjlm/gcp-hcp-apps.git" }}'
      targetRevision: '{{ .Values.cluster.targetRevision | default "main" }}'
      path: hypershift
  prometheus:
    project: default
    namespace: argocd
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    syncPolicy:
      automated:
        prune: false
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
      - ServerSideApply=true
    destination:
      name: '{{ .Values.cluster.name }}'
      namespace: monitoring
    source:
      repoURL: https://prometheus-community.github.io/helm-charts
      targetRevision: 77.9.1
      chart: kube-prometheus-stack
      helm:
        valuesObject:
          grafana:
            service:
              type: ClusterIP
          cluster:
            region: '{{ .Values.cluster.region }}'
            projectId: '{{ .Values.cluster.projectId }}'
            vpcId: '{{ .Values.cluster.vpcId }}'
